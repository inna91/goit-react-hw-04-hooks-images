{"version":3,"sources":["Components/Modal/Modal.module.css","App.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Loader/Loader.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Loader/Loader.jsx","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","App.jsx","services/pictures-api.js","index.js"],"names":["module","exports","LoaderPage","className","s","loader","type","color","height","width","timeout","Searchbar","onSubmit","useState","query","setQuery","event","preventDefault","trim","toast","error","SearchForm","SearchFormButton","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","ImageGalleryItem","webformatURL","tags","onClickImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","pictures","length","map","largeImageURL","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","toggleModal","handleOverlayClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","modalPic","Component","App","setPictures","page","setPage","searchQuery","setSearchQuery","isLoading","setIsLoading","setError","showModal","setShowModal","setLargeImageURL","useEffect","picUrl","axios","get","then","response","data","hits","FetchApi","prevPictures","scrollToNextPage","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderButton","picIsNotFound","Loader","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3d33c3a7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__zl4Tm\",\"Modal\":\"Modal_Modal__qUwDz\",\"modalPic\":\"Modal_modalPic__3K5FU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__13eDO\",\"error\":\"App_error__2d8pi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3HcC2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__31Rfo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1nfWu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3SU8k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3x_kd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1mvwj\",\"SearchForm\":\"Searchbar_SearchForm__2f4rz\",\"SearchFormButton\":\"Searchbar_SearchFormButton__128mh\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1kp5G\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2eGP5\"};","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst LoaderPage = () => {\n  return (\n    <div className={s.loader}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#FF1493\"\n        height={80}\n        width={80}\n        timeout={2000}\n      />\n    </div>\n  );\n};\n\nexport default LoaderPage;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      toast.error('Enter anything to search');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  const handleChange = event => {\n    setQuery(event.target.value);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className=\"SearchForm-button-label\">\n            <ImSearch />{' '}\n          </span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n          value={query}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onClickImage }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={onClickImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ pictures, onClickImage }) => {\n  return (\n    pictures.length > 0 && (\n      <ul className={s.ImageGallery}>\n        {pictures.map(({ webformatURL, tags, largeImageURL }) => (\n          <ImageGalleryItem\n            key={webformatURL}\n            webformatURL={webformatURL}\n            tags={tags}\n            onClickImage={() => onClickImage(largeImageURL)}\n          />\n        ))}\n      </ul>\n    )\n  );\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string,\n      // id: PropTypes.number.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string,\n    }),\n  ),\n  onClickImage: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\n        <div className={s.Modal}>\n          <img className={s.modalPic} src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport LoaderPage from './Components/Loader/Loader';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport FetchApi from './services/pictures-api';\nimport Button from './Components/Button/Button';\nimport Modal from './Components/Modal/Modal';\nimport s from './App.module.css';\n\nexport default function App() {\n  const [pictures, setPictures] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    const fetchPictures = () => {\n      setIsLoading(true);\n      FetchApi(searchQuery, page)\n        .then(hits => {\n          setPictures(prevPictures => [...prevPictures, ...hits]);\n          scrollToNextPage();\n        })\n        .catch(error => setError(error))\n        .finally(() => setIsLoading(false));\n    };\n\n    fetchPictures();\n  }, [searchQuery, page]);\n\n  const handleSearchBarSubmit = query => {\n    if (searchQuery === query) {\n      return;\n    }\n    setSearchQuery(query);\n    setPage(1);\n    setPictures([]);\n    setError(null);\n    setIsLoading(true);\n  };\n\n  const loadMore = () => {\n    setIsLoading(true);\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const scrollToNextPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const onClickImage = largeImageURL => {\n    setLargeImageURL(largeImageURL);\n    toggleModal();\n  };\n\n  const shouldRenderButton = pictures.length > 0 && !error;\n  const picIsNotFound =\n    searchQuery && pictures.length === 0 && !error && !isLoading;\n\n  return (\n    <div className={s.App}>\n      {error && <p className={s.error}>Something went wrong. Try again</p>}\n      <Searchbar onSubmit={handleSearchBarSubmit} />\n\n      {isLoading && <LoaderPage />}\n\n      {showModal && (\n        <Modal largeImageURL={largeImageURL} toggleModal={toggleModal} />\n      )}\n\n      {pictures.length > 0 && !error && (\n        <ImageGallery pictures={pictures} onClickImage={onClickImage} />\n      )}\n\n      {shouldRenderButton && <Button onClick={loadMore} />}\n\n      {picIsNotFound && (\n        <p className={s.error}>Nothing were found. Enter another query</p>\n      )}\n\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import axios from 'axios';\n\nexport default function FetchApi(query, page) {\n  const picUrl = `https://pixabay.com/api/?key=18661870-79eb159249f519a0733d37bbc&image_type=photo&orientation=horizontal&per_page=12&q=${query}&page=${page}`;\n  return axios.get(picUrl).then(response => response.data.hits);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}